<UserControl xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <UserControl.Resources>
    <!-- Status Style for interface status -->
    <Style x:Key="StatusTextStyle" TargetType="TextBlock">
      <Setter Property="Foreground" Value="Black"/>
      <Style.Triggers>
        <DataTrigger Binding="{Binding Status}" Value="connected">
          <Setter Property="Foreground" Value="Green"/>
        </DataTrigger>
        <DataTrigger Binding="{Binding Status}" Value="notconnect">
          <Setter Property="Foreground" Value="Red"/>
        </DataTrigger>
        <DataTrigger Binding="{Binding Status}" Value="Up">
          <Setter Property="Foreground" Value="Green"/>
        </DataTrigger>
        <DataTrigger Binding="{Binding Status}" Value="Down">
          <Setter Property="Foreground" Value="Red"/>
        </DataTrigger>
      </Style.Triggers>
    </Style>

    <!-- Auth State Style -->
    <Style x:Key="AuthStateTextStyle" TargetType="TextBlock">
      <Style.Triggers>
        <DataTrigger Binding="{Binding AuthState}" Value="Authorized">
          <Setter Property="Foreground" Value="Green"/>
        </DataTrigger>
        <DataTrigger Binding="{Binding AuthState}" Value="Unauthorized">
          <Setter Property="Foreground" Value="Red"/>
        </DataTrigger>
      </Style.Triggers>
    </Style>

    <!-- Duplex Style -->
    <Style x:Key="DuplexTextStyle" TargetType="TextBlock">
      <Style.Triggers>
        <DataTrigger Binding="{Binding Duplex}" Value="full">
          <Setter Property="Foreground" Value="Green"/>
        </DataTrigger>
        <DataTrigger Binding="{Binding Duplex}" Value="half">
          <Setter Property="Foreground" Value="Goldenrod"/>
        </DataTrigger>
        <DataTrigger Binding="{Binding Duplex}" Value="a-full">
          <Setter Property="Foreground" Value="Blue"/>
        </DataTrigger>
      </Style.Triggers>
    </Style>

    <!-- Port Color Style -->
    <Style x:Key="PortTextStyle" TargetType="TextBlock">
      <Setter Property="Foreground" Value="Gray"/>
      <Style.Triggers>
        <DataTrigger Binding="{Binding PortColor}" Value="Green">
          <Setter Property="Foreground" Value="Green"/>
        </DataTrigger>
        <DataTrigger Binding="{Binding PortColor}" Value="Blue">
          <Setter Property="Foreground" Value="Blue"/>
        </DataTrigger>
        <DataTrigger Binding="{Binding PortColor}" Value="Purple">
          <Setter Property="Foreground" Value="Purple"/>
        </DataTrigger>
        <DataTrigger Binding="{Binding PortColor}" Value="Red">
          <Setter Property="Foreground" Value="Red"/>
        </DataTrigger>
      </Style.Triggers>
    </Style>
  </UserControl.Resources>

  <Grid>
    <Grid.RowDefinitions>
      <!-- Make the single row stretch to fill vertically -->
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>
    <Grid.ColumnDefinitions>
      <!-- DataGrid takes all remaining space -->
      <ColumnDefinition Width="*"/>
      <!-- Buttons & dropdown column sizes to its content -->
      <ColumnDefinition Width="Auto"/>
    </Grid.ColumnDefinitions>
	
    <!-- Left-hand panel: filter controls and interfaces table.  Use a Grid to allow the
         DataGrid to resize and enable built-in scrollbars instead of letting it
         auto-size within a StackPanel (which prevents scrolling). -->
    <Grid Grid.Row="0" Grid.Column="0" Margin="5">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <!-- Search Bar + Clear Button -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,5">
            <TextBox Name="FilterBox"
                   Width="160"
                   ToolTip="Type to filter interfaces..."
                   Margin="0,0,5,0"/>
            <Button Name="ClearFilterButton"
                  Content="X"
                  Width="30"
                  Height="23"
                  VerticalAlignment="Center"
                  ToolTip="Clear filter"/>
        </StackPanel>

        <!-- Interfaces DataGrid -->
        <DataGrid Name="InterfacesGrid"
                  Grid.Row="1"
                  AutoGenerateColumns="False"
                  SelectionMode="Extended"
                  Margin="5,0,5,5"
                  CanUserAddRows="False"
                  IsReadOnly="False"
                  ScrollViewer.VerticalScrollBarVisibility="Auto"
                  ScrollViewer.HorizontalScrollBarVisibility="Auto">
          <DataGrid.Columns>
            <!-- Selection checkbox -->
            <DataGridTemplateColumn Width="30">
              <DataGridTemplateColumn.CellTemplate>
                <DataTemplate>
                  <CheckBox
                    IsChecked="{Binding IsSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    HorizontalAlignment="Center"/>
                </DataTemplate>
              </DataGridTemplateColumn.CellTemplate>
              <DataGridTemplateColumn.CellEditingTemplate>
                <DataTemplate>
                  <CheckBox
                    IsChecked="{Binding IsSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    HorizontalAlignment="Center"/>
                </DataTemplate>
              </DataGridTemplateColumn.CellEditingTemplate>
            </DataGridTemplateColumn>

			<!-- Port Column -->
			<DataGridTemplateColumn Header="Port">
			  <DataGridTemplateColumn.CellTemplate>
				<DataTemplate>
				  <TextBlock Text="{Binding Port}"
							 Style="{StaticResource PortTextStyle}">
					<TextBlock.ToolTip>
					  <ToolTip Content="{Binding ToolTip}"/>
					</TextBlock.ToolTip>
				  </TextBlock>
				</DataTemplate>
			  </DataGridTemplateColumn.CellTemplate>
			</DataGridTemplateColumn>

			<!-- Name -->
			<DataGridTextColumn Header="Name" Binding="{Binding Name}"/>

			<!-- Status -->
			<DataGridTemplateColumn Header="Status">
			  <DataGridTemplateColumn.CellTemplate>
				<DataTemplate>
				  <TextBlock Text="{Binding Status}"
							 Style="{StaticResource StatusTextStyle}"/>
				</DataTemplate>
			  </DataGridTemplateColumn.CellTemplate>
			</DataGridTemplateColumn>

			<!-- VLAN -->
			<DataGridTextColumn Header="VLAN" Binding="{Binding VLAN}"/>

			<!-- Duplex -->
			<DataGridTextColumn Header="Duplex" Binding="{Binding Duplex}">
			  <DataGridTextColumn.ElementStyle>
				<StaticResource ResourceKey="DuplexTextStyle"/>
			  </DataGridTextColumn.ElementStyle>
			</DataGridTextColumn>

			<!-- Speed -->
			<DataGridTextColumn Header="Speed" Binding="{Binding Speed}"/>

			<!-- Type -->
			<DataGridTextColumn Header="Type" Binding="{Binding Type}"/>

			<!-- Learned MACs -->
			<DataGridTextColumn Header="LearnedMACs" Binding="{Binding LearnedMACs}"/>

			<!-- Auth State -->
			<DataGridTextColumn Header="AuthState" Binding="{Binding AuthState}">
			  <DataGridTextColumn.ElementStyle>
				<StaticResource ResourceKey="AuthStateTextStyle"/>
			  </DataGridTextColumn.ElementStyle>
			</DataGridTextColumn>

			<!-- Auth Mode -->
			<DataGridTextColumn Header="AuthMode" Binding="{Binding AuthMode}"/>

			<!-- Auth Client MAC -->
			<DataGridTextColumn Header="AuthClientMAC" Binding="{Binding AuthClientMAC}"/>
          </DataGrid.Columns>
        </DataGrid>
    </Grid>
    <!-- Rightâ€hand panel: Compare, Configure, and Template dropdown -->
    <StackPanel Grid.Row="0" Grid.Column="1"
                Orientation="Vertical"
                VerticalAlignment="Top"
                Margin="5">
		<Button Name="CompareButton"
				Content="Compare Configs"
				Width="120"
				Margin="0,0,0,10"/>
		<Button Name="ConfigureButton"
				Content="Configure"
				Width="120"
				Margin="0"/>
		<ComboBox Name="ConfigOptionsDropdown"
				Width="120"
				Margin="0,0,0,10"/>
		<Button Name="CopyDetailsButton"
				Content="Copy Details"
				Width="120"
				Margin="0,0,0,10"
				ToolTip="Copy selected interfaces with all details"/>
    </StackPanel>
  </Grid>
</UserControl>
